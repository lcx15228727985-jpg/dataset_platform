# 其他设备访问标注应用说明

部署完成后，**局域网内或公网上的其他设备**只需通过**一个网址**即可访问标注平台，实现多人协作。

---

## 一、单网址访问

部署在 Linux 服务器后，应用通过**单端口 8000** 同时提供前端页面与 API，无需分别访问前端/后端。

### 访问地址

```
http://<Linux服务器IP或域名>:8000
```

**示例：**

- 局域网：`http://192.168.1.100:8000`
- 本机：`http://localhost:8000`
- 公网：`http://your-domain.com:8000`（若配置了域名与端口转发）

---

## 二、不同场景访问方式

### 2.1 同一局域网（推荐）

1. 在 Linux 服务器上获取本机 IP：`ip addr` 或 `hostname -I`
2. 其他电脑/手机在同一 WiFi 或同一网段下，浏览器打开：
   ```
   http://<服务器IP>:8000
   ```
3. 即可进入标注平台，所有设备看到的是**同一份数据**，标注实时同步到数据库。

### 2.2 公网访问（需端口转发）

1. 在路由器中设置**端口转发**：外网 8000 → 内网 `<服务器IP>:8000`
2. 使用公网 IP 或域名：`http://<公网IP或域名>:8000`
3. 建议配合 HTTPS（反向代理如 Nginx）以增强安全性。

### 2.3 使用域名（可选）

若希望使用如 `http://annot.your-domain.com`：

1. 配置 DNS：`annot.your-domain.com` 指向服务器公网 IP
2. 使用 Nginx 反向代理，将 80 端口转发到 `http://127.0.0.1:8000`
3. 其他设备访问：`http://annot.your-domain.com`

---

## 三、多人协作说明

- **数据共享**：所有用户访问同一后端，标注写入同一数据库（PostgreSQL 或 SQLite）。
- **实时同步**：一人标注后，他人刷新页面即可看到最新标注统计；进入工作台可看到最新 boxes。
- **无需分别登录**：当前版本无账号体系，所有访问同一 URL 的用户共享同一数据源。

---

## 四、防火墙与端口

若其他设备无法访问，请检查：

```bash
# Linux 防火墙放行 8000 端口（Ubuntu/Debian）
sudo ufw allow 8000/tcp
sudo ufw reload

# 或临时关闭防火墙测试
sudo ufw disable
```

---

## 五、常见问题

**Q：手机/平板能访问吗？**  
A：可以，浏览器打开 `http://<服务器IP>:8000` 即可。

**Q：多人同时标注会冲突吗？**  
A：同一张图片若多人同时编辑，后保存者会覆盖前者。建议分工不同 run/episode 或不同图片。

**Q：能否只用 80 端口访问？**  
A：可以，使用 Nginx 反向代理将 80 转发到 8000，或修改 Docker 端口映射为 `"80:8000"`。
